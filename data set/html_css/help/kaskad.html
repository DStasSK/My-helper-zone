<!DOCTYPE html><html><head><title>Каскадирование</title>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="../../css/mane.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- автораскравка тегов внутри pre-code -->
<link rel="stylesheet" href="../../highlight.js/styles/ss.css">
<script src="../../highlight.js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</head>
<body>

<h2 class="sin">Каскадирование</h2>
<!-- Оглавление -->
	<ul class="ogl">
		<li><a href="#z0">Каскадирование</a></li>
		<li><a href="#important"><samp>!important</samp></a></li>
		<li><a href="#z1">Специфичность</a></li>
		<li><a href="#pr1">Пример</a></li>
	</ul>


<div class="item" id="z0">
	<p>Аббревиатура CSS расшифровывается как Cascading Style Sheets (каскадные таблицы стилей), где одним из ключевых слов выступает «каскад». Под каскадом в данном случае понимается одновременное применение разных стилевых правил к элементам документа — с помощью подключения нескольких стилевых файлов, наследования свойств и других методов. Чтобы в подобной ситуации браузер понимал, какое в итоге правило применять к элементу, и не возникало конфликтов в поведении разных браузеров, введены некоторые приоритеты.</p>
	<p>Ниже приведены приоритеты браузеров, которыми они руководствуются при обработке стилевых правил. Чем выше в списке находится пункт, тем ниже его приоритет, и наоборот.</p>
	<ol class="list ml30 mt20">
		<li>Стиль браузера.</li>
		<li>Стиль автора.</li>
		<li>Стиль пользователя.</li>
		<li>Стиль автора с добавлением !important.</li>
		<li>Стиль пользователя с добавлением !important.</li>
	</ol>
	<p class="mt20">Самым низким приоритетом обладает стиль браузера — оформление, которое по умолчанию применяется к элементам веб-страницы браузером. Это оформление можно увидеть в случае «голого» HTML, когда к документу не добавляется никаких стилей.</p>
</div>


<div class="item">
<h3 class="sin" id="important"><a href="#"><samp>!important</samp></a></h3>
	<p>Ключевое слово <samp class="red tdu"><a href="help.html#important">!important</a></samp> играет роль в том случае, когда пользователи подключают свою собственную таблицу стилей. Если возникает противоречие, когда стиль автора страницы и пользователя для одного и того же элемента не совпадает, то <samp class="red">!important</samp> позволяет повысить приоритет стиля или его важность, иными словами.</p>
	<p>При использовании пользовательской таблицы стилей или одновременном применении разного стиля автора и пользователя к одному и тому же селектору, браузер руководствуется следующим алгоритмом.</p>
	<ul class="list ml30 mt20">
		<li><samp class="red">!important</samp> добавлен в авторский стиль - применяется стиль автора.</li>
		<li><samp class="red">!important</samp> добавлен в пользовательский стиль - применяется стиль пользователя.</li>
		<li><samp class="red">!important</samp> нет как в авторском и стиле пользователя - применяется стиль пользователя.</li>
		<li><samp class="red">!important</samp> содержится в авторском стиле и стиле пользователя - применяется стиль пользователя.</li>
	</ul>
	<p class="mt20">Вначале пишется желаемое стилевое свойство, затем через двоеточие его значение и в конце после пробела указывается ключевое слово <samp class="red">!important</samp>.</p>
	<pre class="item2"><code>p { padding-left: 65px !important; }</code></pre>
	<p>Повышение важности требуется не только для регулирования приоритета между авторской и пользовательской таблицей стилей, но и для повышения специфичности определенного селектора.</p>
</div>


<div class="item" id="z1">
<h3 class="sin"><a href="#">Специфичность</a></h3>
	<p>Если к одному элементу одновременно применяются противоречивые стилевые правила, то более высокий приоритет имеет правило, у которого значение специфичности селектора больше. Специфичность это <b>некоторая условная величина</b>, вычисляемая следующим образом:</p>
	<ul class="list">
		<li>За каждый идентификатор (<samp class="red">id</samp>) (<b>a</b>) начисляется <samp class="sin">100</samp></li>
		<li>за каждый класс и <a href="../CSS_helper.html#pseudo-class" class="tdu lsin">псевдокласс</a> (<b>b</b>) начисляется <samp class="sin">10</samp></li>
		<li>за каждый селектор тега и <a href="../CSS_helper.html#pseudo-elements"class="tdu lsin">псевдоэлемент</a> (<b>c</b>) начисляется <samp class="sin">1</samp></li>
	</ul>
	<p class="mt20">Складывая указанные значения в определённом порядке, получим условное значение специфичности для данного селектора.</p>

	<pre class="item2"><code>*              {} /* a=0 b=0 c=0 -> специфичность = 0   */<br>li             {} /* a=0 b=0 c=1 -> специфичность = 1   */<br>li:first-line  {} /* a=0 b=0 c=2 -> специфичность = 2   */<br>li::before     {} /* a=0 b=1 c=1 -> специфичность = 2   */<br>ul li          {} /* a=0 b=0 c=2 -> специфичность = 2   */<br>ul ol+li       {} /* a=0 b=0 c=3 -> специфичность = 3   */<br>ul li:hover    {} /* a=0 b=1 c=2 -> специфичность = 12  */<br>ul li.red      {} /* a=0 b=1 c=2 -> специфичность = 12  */<br>li.red.level   {} /* a=0 b=2 c=1 -> специфичность = 21  */<br>#t34           {} /* a=1 b=0 c=0 -> специфичность = 100 */<br>#content #wrap {} /* a=2 b=0 c=0 -> специфичность = 200 */</code></pre>

	<p class="mt20">Встроенный стиль, добавляемый к тегу через атрибут <samp class="sin">style</samp>, имеет специфичность <b>1000</b>, поэтому всегда перекрывает связанные и глобальные стили. Однако добавление <samp class="red">!important</samp> перекрывает в том числе и встроенные стили.</p>
	<p>Если два селектора имеют одинаковую специфичность, то применяться будет тот стиль, что указан в коде ниже.</p>

	<div class="no">
		<h4 class="ls0">Небольшое уточнение насчёт специфичности авторских стилей.</h4>

		<p>Я бы не советовал использовать здесь "селекторную викторину" с начислением 1-го, 10-и, 100-а и 1000-и очков - хотя, это и наглядно, но вводит в заблуждение. А вводит в заблуждение потому, что может возникнуть впечатление, что, скажем, 11 селекторов <b>класса</b> перекроют 1 селектор <samp class="red">id</samp>, но это не так.</p>

		<p>Это разные уровни приоритетности. Это как война уровней. Есть два "конфликтующих" блока правил. Сначала в бой вступает тяжела артиллерия в лице атрибута <samp class="sin">style</samp> и правила <samp class="red">!impotrant</samp>.</p>

		<p>Если эта битва не выявила победителя (попросту, из-за отсутствия противников), значит, в бой вступают следующие гиганты - <samp class="red">id</samp>. В первом блоке правил, например, 3 селектора <samp class="red">id</samp>, во втором - 2: победа 1-го блока. И нам уже совершенно неважно, сколько у этих правил селекторов классов, псевдоклассов, селекторов атрибутов и уж тем более - селекторов тегов и псевдоэлементов.</p>
	</div>
</div>


<div class="item" id="pr1">
<h3 class="sin"><a href="#">Пример</a></h3>
	<fieldset class="prm">
		<style>
			#m1 ul li {color:green}
			.two {color:red}
		</style>
		<div id="m1">
			<ul class="list">
				<li>Первый</li>
				<li class="two">Второй</li>
				<li>Третий</li>
			</ul>
		</div>
		<pre class="item2"><code>&lt;style><br>   #menu ul li { color:green }<br>   .two { color:red }<br>&lt;/style><br><br>&lt;div id="menu"><br>   &lt;ul><br>      &lt;li>Первый&lt;/li><br>      &lt;li class="two">Второй&lt;/li><br>      &lt;li>Третий&lt;/li><br>   &lt;/ul><br>&lt;/div></code></pre>
	</fieldset>

	<p>В данном примере цвет текста списка задан зелёным, а второй пункт списка с помощью класса <samp class="sin">two</samp> выделен красным цветом. Вычисляем специфичность селектора <samp class="red">#menu ul li</samp> — один идентификатор (100) и два тега (2) в сумме дают значение <b>102</b>, а селектор <samp class="red">.two</samp> будет иметь значение специфичности <b>10</b>, что явно меньше. Поэтому текст окрашиваться красным цветом не будет.</p>
	<p>Чтобы исправить ситуацию, необходимо либо понизить специфичность первого селектора, либо повысить специфичность второго.</p>

	<pre class="item2"><code>/* Понижаем специфичность первого селектора */<br>  ul li {} /* Убираем идентификатор */<br>  .two  {}<br><br><br>/* Повышаем специфичность второго селектора */<br>  #menu ul li {}<br>  #menu  .two {} /* Добавляем  идентификатор */<br><br>/* или */<br><br>  #menu ul li {}<br>  .two { color:  red !important } /* Добавляем !important */</code></pre>

	<p>Добавление идентификатора используется не только для изменения специфичности селектора, но и для применения стиля только к указанному списку. Поэтому понижение специфичности за счёт убирания идентификатора применяется редко, в основном, повышается специфичность нужного селектора.</p>
</div>
</body></html>